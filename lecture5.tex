\newtheorem*{note}{Примечание}

\section{Исчисление предикатов}

Очень мало логических утверждений истинны или ложны сами по себе.
Часто истинность утверждений зависит от каких-то обстоятельств.
Для формализации этого соображения в математической логике рассматривают
понятия предметного множества и предиката.

Сперва объясним эти понятия на языке теории моделей:
если мы строим теорию о некоторых объектах (например, о натуральных 
числах или о множествах), то изучаемые объекты все вместе образуют 
некоторое \emph{предметное} множество (будем его обозначать буквой $D$). 
На данном множестве могут быть заданы \emph{функции}, отображающие элементы
$D$ в $D$, и \emph{предикаты} --- отображающие элементы $D$ в 
истинностные значения.

\begin{definition}
Функция называется $x$-местной, если она принимает $x$ аргументов.
\end{definition}

Например, если мы изучаем арифметические выражения над целыми числами, 
то предметным множеством будет множество целых чисел, сложение и 
вычитание будут двуместными функциями, константу $0$ мы можем при желании
рассмотреть как нульместную функцию, а отношения $(<)$ или $(=)$ ---
это двуместные предикаты.

Теперь рассмотрим эту же конструкцию более формально, с точки зрения теории 
доказательств.

\begin{definition}\emph{Терм} исчисления предикатов (еще мы его будем
называть предметным выражением) --- это:
\begin{itemize}
\item предметная переменная --- маленькая буква начала или конца латинского 
алфавита, возможно, с индексом или апострофом.
\item применение функции (функции мы будем обозначать латинскими 
буквами середины алфавита: $f, g, h, \dots$):
если $\theta_1 \dots \theta_n$ --- термы и $f$ --- 
\emph{функциональный символ} (то есть символ, обозначающий некоторую
функцию), то $f (\theta_1, \dots \theta_n)$ 
--- тоже терм. Константа --- тоже терм, так как она является нульместной функцией.
\end{itemize}
\end{definition}
\begin{definition}
\emph{Предикатом} называется совокупность $P (\theta_1, \dots \theta_n)$, где $P$ --- \emph{предикатный символ}, а $\theta_1 \dots \theta_n$ --- термы. При $n  = 0$ предикат становится аналогом пропозициональной переменной из исчисления высказываний. Предикаты мы будем обозначать большими латинскими буквами, возможно, с индексами.
\end{definition}
\begin{definition}\emph{Формула} исчисления предикатов --- это:
\begin{itemize}
\item если $\alpha$ и $\beta$ --- формулы исчисления предикатов, то 
$\neg \alpha$, $\alpha \with \beta$, $\alpha \vee \beta$, 
$\alpha \rightarrow \beta$ --- также формула. Связки расставлены
в порядке убывания приоритета. Как и в исчислении высказываний,
импликация правоассоциативна, остальные операции --- левоассоциативны.
\item применение предиката.
\item если $\alpha$ --- формула и $x$ --- предметная переменная, то
$\forall x. \alpha$ и $\exists x. \alpha$ также являются формулами. Кванторы
имеют приоритет, одинаковый с отрицанием, и, как и отрицание, действуют 
только на ближайшее к ним логическое выражение. Так, формула 
$\forall x. P(x,5) \vee P(x,7)$ соответствует формуле $(\forall x. P(x,5)) \vee P(x,7)$.
\end{itemize}
\end{definition}

Обратите внимание на понятия <<предикатный символ>> и <<функциональный символ>>.
Предикат и функция --- это обычные математические функции, отображающие
$D^n$ в $V$ или $D$. Предикатные и функциональные символы же --- это 
некоторые значки в формуле, которым можно сопоставить различные предикаты и 
функции в зависимости от обстоятельств. Мы иногда будем для краткости
опускать слово <<символ>>, когда будем говорить о тексте формул, но 
это различие всегда надо иметь ввиду.

\begin{example}
Рассмотрим формулу $$\forall x. x > 1 \rightarrow x^2 > x$$ В ней $1$ является нульместным функциональным символом, $^2$ --- одноместным функциональным символом, $>$ --- двуместным предикатом. Тогда $x$, $1$, $x^2$, $x$ --- термы, $x > 1$ и $x^2 > x$ --- формулы, тогда $\forall x. x > 1$ и вся строка также являются формулами.
\end{example}

\subsection{Оценка выражений в исчислении предикатов}

Для задания оценки для выражения в исчислении предикатов необходимо определить следующие объекты:
\begin{itemize}
    \item $D$ - предметное множество.
    \item $F$ - оценка функциональных символов; для каждого $k$-местного функционального символа $f$ необходимо определить функцию $F_i: D^k \rightarrow D$.
    \item $P$ - оценка предикатных символов; для каждого $k$-местного предикатного символа $p$ необходимо определить функцию $P_i: D^k \rightarrow V$, где $V$ --- множество собственных значений.
    \item $R$ --- оценка свободных предметных переменных.
\end{itemize}

\begin{definition}Формула $\alpha$ в исчислении предикатов общезначима, если она
истинна на любом предметном множестве $D$, при любой оценке предикатных
и функциональных символов и при любых оценках свободных предметных
переменных; Данный факт записывается как $\models \alpha$.
\end{definition}


\subsection{Доказательства в исчислении предикатов}

\begin{definition}Дана некоторая формула $\alpha$, задающаяся строкой $s$.
Будем говорить, что подстрока $s_1$ строки $s$ является подформулой $\alpha$, 
если она в точности соответствует какому-то одному нетерминалу
в дереве разбора строки $s$, иначе говоря, формула $\phi$, задающаяся $s_1$, является корректной формулой.
\end{definition}

\begin{definition}Если в формулу входит подформула, полученная по правилам
для кванторов (то есть, $\forall x \alpha$ или $\exists x \alpha$), то 
мы будем говорить, что формула $\alpha$ находится в области действия 
данного квантора по переменной $x$. Также, будем говорить, что любая подформула 
формулы $\alpha$ находится в области действия данного квантора.
\end{definition}

\begin{definition}
Вхождением переменной $x$ в формулу $\alpha$ называется любое её вхождение в $\alpha$ как подстроки.
\end{definition}

\begin{definition}Если некоторое вхождение переменной $x$ находится
в области действия квантора по переменной $x$, то такое вхождение
мы назовем \emph{связанным}. Те вхождения переменных, которые не являются связанными, назовем \emph{свободными}. Формула, не имеющая 
свободных вхождений переменных, называется \emph{замкнутой}.
\end{definition}

\begin{definition}Будем говорить, что терм $\theta$ свободен для
подстановки в формулу $\psi$ вместо $x$ (или просто свободен для 
подстановки вместо $x$), если после подстановки $\theta$ вместо 
свободных вхождений $x$ ни одно вхождение свободной переменной
в $\theta$ не станет связанным.
\end{definition}

\begin{definition}
\emph{Подстановкой} терма $\theta$ вместо $x$ в формулу $\alpha$ назовём операцию замены всех свободных вхождений $x$ в $\alpha$ на $\theta$ как подстрок. Будем обозначать такую операцию как $\alpha[x \coloneqq  \theta]$. 
\end{definition}

\subsubsection*{Аксиомы}
Чтобы получить список аксиом для исчисления предикатов, возьмем все схемы
аксиом исчисления высказываний и дополним их следующими двумя схемами:
\begin{itemize}
    \item[(11)] $\forallx. \phi \rightarrow \phi[x \coloneqq  \theta]$
    \item[(12)] $\phi[x \coloneqq  \theta] \rightarrow \exists x. \phi$
\end{itemize}
Здесь $x$ --- переменная, $\phi$ --- некоторая формула, $\theta$ --- терм, свободный для подстановки вместо $x$ в $\alpha$.

Свобода для подстановки --- значимое условие. Если взять формулу $\exists x. A(x,y)$, то, по схеме аксиом (11), если игнорировать ограничение на свободу для подстановки, следующее утверждение должно выводиться из первого: 
$\forall y. \exists x. A(x,y) \rightarrow \exists x. A (x,x)$. Тогда впоследствии мы сможем вывести $\exists x. A (x,x)$ из $\forall y. \exists x. A(x,y)$, и исчисление предикатов не будет корректным.

Все аксиомы, порожденные данными схемами в новом языке, мы назовем аксиомами исчисления предикатов.

\subsubsection*{Правила вывода}

Пусть $x$ не входит свободно в $\phi$. Тогда рассмотрим следующие дополнительные
правила вывода исчисления предикатов:

\begin{tabular}{lll}
$\infer{(\phi) \rightarrow \forall{x}(\psi)}{(\phi) \rightarrow (\psi)}$ &
$\infer{\exists{x}(\psi) \rightarrow (\phi)}{(\psi) \rightarrow (\phi)}$
\end{tabular}

Добавив эти схемы к схеме для правила Modus ponens исчисления высказываний,
мы получим множество правил вывода.
<<Не входит свободно>> - это также важный вопрос.
Рассмотрим формулу $A(x) \rightarrow A(x)$. Легко показать, что такая
формула общезначима и доказуема. Однако, $\exists x. A(x) \rightarrow A(x)$
не является общезначимой, если $A(x)$ не общезначима: достаточно взять в качестве оценки свободной переменной $x$ то значение, на котором $A(x)$ ложна.


Вывод из гипотез также вполне можно расширить на исчисление предикатов.
\begin{definition}
Пусть имеется некоторое исчисление предикатов с множеством
аксиом $A$, и пусть дан некоторый (возможно, пустой) список $\Gamma$ 
формул исчисления предикатов. Тогда, вывод формулы $\alpha$
в исчислении с аксиомами $A \cup \Gamma$ мы назовем выводом из 
допущений $\Gamma$, и будем записывать это как $\Gamma \vdash \alpha$.
\end{definition}

Формулы в списке формул не обязаны быть замкнутыми: например, легко 
показать, что $P(x,y), P(x,y)\rightarrow P(y,x) \vdash P(y,x)$. Однако
со свободными переменными в допущениях надо быть осторожными; это 
находит своё отражение в теореме о дедукции для исчисления предикатов.

\begin{theorem}
\textbf{Теорема о дедукции.} Если $\Gamma, \alpha \vdash \beta$, 
и в доказательстве отстутствуют применения правил для кванторов, использующих
свободные переменные из формулы $\alpha$, то $$\Gamma \vdash \alpha \rightarrow \beta$$
Обратно, если $\Gamma \vdash \alpha\rightarrow\beta$, то $\Gamma,\alpha\rightarrow\beta$.
\end{theorem}

\begin{theorem}
\textbf{Теорема о корректности}, формулировка. Пусть $\vdash \alpha$. Тогда $$\models \alpha$$.
\end{theorem}

\begin{theorem}
\textbf{Теорема о полноте}, формулировка. Пусть $\models \alpha$. Тогда $$\vdash \alpha$$.
\end{theorem}
\end{document}
